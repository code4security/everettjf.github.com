--- 
layout: post 
title: "How To Write A Simple Virus Scanner" 
description: ""
category: Security
tags: [Virus,Scanner]
---
{% include JB/setup %}

# 宗旨
简单，易懂，甚至适合非计算机专业人士

# 概要
- 什么是计算机病毒
- 反病毒技术的发展
- 如何手动分析计算机病毒
- 编写建议的病毒扫描程序

# brain storm
- 病毒的危害
  - 伊朗火箭爆炸
  - 台湾被惊吓过度的病毒
- 什么是木马
  - 木马与病毒的区别
  - 没有本质的区别
  - 可能木马更会偷取文件，等待时机做事情
- 程序漏洞
  - 什么又是漏洞
  - 快速演示下metasploit控制存在漏洞的win2k3
- 微信微博号码
  - 对pentest感兴趣的共同学习
  - pentest新手，刚刚开始学习
- 一些推荐的书籍
  - 病毒分析
  - 渗透测试
- byod的威胁
  - 移动终端的威胁
  - android新手写的恶意程序
- UAC，如果用户自己知道是不是病毒了，还需要提示做什么呢。
- 360 QVM
  - 专利
- 杀毒软件的复杂程度要远远高于病毒
- 组成
  - 扫描器
  - 病毒库
  - 虚拟机
- 推荐几个网址
  - 金山的动态分析病毒的网站
  - virustotal.com
- kvm,qume虚拟机修改


# 详细
- 什么是计算机病毒
  - 定义
  - 类型
  - 危害
    - 两个例子
- 反病毒技术的发展
  - 扫描引擎
    - 特征码扫描
      - 挑选文件的某个部位或几个部位的二进制代码作为特征码。
      - 特征码不能与正常程序重合。
      - 长度不能太长，保证扫描的空间与时间的开销。
      - 硬盘文件匹配或内存中匹配
      - 准确率高
      - 特征码可用于判断任何文件，exe,rmvb,jpg,txt文件
      - 最大的问题：不能检测未知病毒，先有病毒，之后才能检测。
      - 必须经常更新病毒库
      - 第一代：通配符扫描技术（速度慢）
      - 第二代：智能扫描，可忽略NOP指令
      - 近似精确识别法（多特征码，校验和（pe的某些部分的校验和））
    - 启发式扫描
      - 行为特征库
      - hook 行为
      - 对exe或者dll有写入行为
      - 可发现未知病毒
      - 可能误报
      - 可能需要用户参与。- 编写简易杀毒软ko
    - 主动防御
      - 最早来自
      - 360 ZhuDongFangYu.exe
    - 360的QVM
      - 机器学习，人工智能
      - 监督学习和非监督学习
      -


  - PE文文件 
  - 实现方式设计
  - 正常文件与病毒文件的不同
  - 如何判断

- 如何手动分析计算机病毒
  - 工具


- 编写建议的病毒扫描程序
  - 我们想想用哪种方法来实现呢
  - Ruby
  - rb-libsvm
  - 误报问题
    - 长得像病毒，却又不是。那怎么办？数字签名




